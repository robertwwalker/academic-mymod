---
title: 'tidyTuesday: coffee chains'
author: RWW
date: '2018-05-09'
slug: tidytuesday-coffee-chains
categories:
  - R
  - tidyverse
  - Maps
tags:
  - R
  - tidyTuesday
  - tidyverse
---



<div id="the-tidytuesday-for-this-week-is-coffee-chain-locations" class="section level1">
<h1>The tidyTuesday for this week is coffee chain locations</h1>
<p>For this week: 1. The basic link to the <a href="https://github.com/rfordatascience/tidytuesday"><code>#tidyTuesday</code></a> shows <a href="http://flowingdata.com/2014/03/18/coffee-place-geography/">an original article</a> for Week 6.</p>
<p>First, let’s import the data; it is a single Excel spreadsheet. The page notes that starbucks, Tim Horton, and Dunkin Donuts have raw data available.</p>
<pre class="r"><code>library(readxl)
url &lt;- &quot;https://github.com/rfordatascience/tidytuesday/raw/master/data/week6_coffee_chains.xlsx&quot;
destfile &lt;- &quot;Coffee_chains.xlsx&quot;
curl::curl_download(url, destfile)
Coffee.chains &lt;- read_excel(destfile)</code></pre>
<p>What do the data look like?</p>
<pre class="r"><code>library(skimr)
library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ──────────────────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──</code></pre>
<pre><code>## ✔ ggplot2 2.2.1     ✔ purrr   0.2.4
## ✔ tibble  1.4.2     ✔ dplyr   0.7.4
## ✔ tidyr   0.8.0     ✔ stringr 1.3.0
## ✔ readr   1.1.1     ✔ forcats 0.3.0</code></pre>
<pre><code>## ── Conflicts ─────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::contains()    masks skimr::contains()
## ✖ dplyr::ends_with()   masks skimr::ends_with()
## ✖ dplyr::everything()  masks skimr::everything()
## ✖ dplyr::filter()      masks stats::filter()
## ✖ dplyr::lag()         masks stats::lag()
## ✖ dplyr::matches()     masks skimr::matches()
## ✖ dplyr::num_range()   masks skimr::num_range()
## ✖ dplyr::one_of()      masks skimr::one_of()
## ✖ dplyr::starts_with() masks skimr::starts_with()</code></pre>
<pre class="r"><code>skim(Coffee.chains)</code></pre>
<pre><code>## Skim summary statistics
##  n obs: 25600 
##  n variables: 13 
## 
## Variable type: character 
##        variable missing complete     n min max empty n_unique
##           Brand       0    25600 25600   7  21     0        4
##            City      14    25586 25600   2  29     0     5470
##         Country       0    25600 25600   2   2     0       73
##  Ownership Type       0    25600 25600   8  13     0        4
##    Phone Number    6861    18739 25600   1  18     0    18559
##        Postcode    1521    24079 25600   1   9     0    18888
##  State/Province       0    25600 25600   1   3     0      338
##      Store Name       0    25600 25600   2  60     0    25364
##    Store Number       0    25600 25600   5  12     0    25599
##  Street Address       2    25598 25600   1 234     0    25353
##        Timezone       0    25600 25600  18  30     0      101
## 
## Variable type: numeric 
##   variable missing complete     n   mean    sd      p0     p25    p50
##   Latitude       1    25599 25600  34.79 13.34  -46.41   31.24  36.75
##  Longitude       1    25599 25600 -27.87 96.84 -159.46 -104.66 -79.35
##     p75   p100     hist
##   41.57  64.85 ▁▁▁▁▂▇▇▁
##  100.63 176.92 ▃▇▂▁▁▁▅▁</code></pre>
<pre class="r"><code>table(Coffee.chains$Brand)</code></pre>
<pre><code>## 
## Coffee House Holdings       Evolution Fresh             Starbucks 
##                     1                     2                 25249 
##               Teavana 
##                   348</code></pre>
<p>A basic plot of the global Starbucks data.</p>
<pre class="r"><code>library(ggmap)
mapWorld &lt;- borders(&quot;world&quot;, colour=&quot;gray50&quot;, fill=&quot;gray50&quot;) # create a layer of borders</code></pre>
<pre><code>## 
## Attaching package: &#39;maps&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     map</code></pre>
<pre class="r"><code>mp &lt;- ggplot() +   mapWorld
mp &lt;- mp + geom_point(aes(x=Coffee.chains$Longitude, y=Coffee.chains$Latitude) ,color=&quot;dark green&quot;, size=0.5) + xlab(&quot;&quot;) + ylab(&quot;&quot;)
mp</code></pre>
<pre><code>## Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<p><img src="/post/2018-05-09-tidytuesday-coffee-chains_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
