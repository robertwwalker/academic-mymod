---
title: Fariss Human Rights Data with Animation
author: RWW
date: '2019-10-10'
slug: fariss-human-rights-data-with-animation
categories:
  - tidyverse
  - animation
tags:
  - gganimate
  - R
  - tidyverse
header:
  caption: ''
  image: ''
  preview: yes
---



<div id="fariss-data" class="section level2">
<h2>Fariss Data</h2>
<p>Is neat and complete.</p>
<pre class="r"><code>load(&quot;~/FarissHRData.RData&quot;)
skimr::skim(HR.Data)</code></pre>
<pre><code>## Skim summary statistics
##  n obs: 11717 
##  n variables: 27 
## 
## ── Variable type:factor ────────────────────────────────────────────────────────────────────────
##  variable missing complete     n n_unique                     top_counts
##  COW_YEAR       0    11717 11717    11717 100: 1, 100: 1, 100: 1, 100: 1
##  ordered
##    FALSE
## 
## ── Variable type:integer ───────────────────────────────────────────────────────────────────────
##            variable missing complete     n     mean       sd   p0  p25
##             Amnesty    6140     5577 11717    2.7       1.12    1    2
##                CIRI    6787     4930 11717  390.52    170.85  101  242
##                 COW       0    11717 11717  461.21    254.4     2  255
##               DISAP    6798     4919 11717    1.68      0.62    0    2
##          executions    7613     4104 11717    0.1       0.3     0    0
##            genocide    1261    10456 11717    0.027     0.16    0    0
##            hathaway    9484     2233 11717    2.74      1.15    1    2
##                 HRW   11271      446 11717    3.03      1.11    1    2
##                  id       0    11717 11717 5859      3382.55    1 2930
##                 ITT   10258     1459 11717    3.51      2.03    1    1
##                KILL    6800     4917 11717    1.33      0.76    0    1
##        killing_best   11397      320 11717 1855.35  27941.4    25   42
##        killing_high   11397      320 11717 3043.11  44714.85   25   62
##         killing_low    6176     5541 11717   45.34   2306.65    0    0
##     killing_present    6176     5541 11717    0.058     0.23    0    0
##        mass_killing       0    11717 11717    0.13      0.34    0    0
##  massive_repression    5541     6176 11717    0.046     0.21    0    0
##  negative_sanctions    7613     4104 11717    0.69      0.46    0    0
##             POLPRIS    6793     4924 11717    1.13      0.84    0    0
##              rummel    6077     5640 11717    0.2       0.4     0    0
##               State    4802     6915 11717    2.39      1.16    1    1
##                TORT    6794     4923 11717    0.79      0.75    0    0
##                   X       0    11717 11717 5859.72   3382.9     1 2930
##                YEAR       0    11717 11717 1984.78     20.44 1946 1968
##     p50     p75   p100     hist
##     3      3         5 ▃▇▁▇▁▅▁▂
##   380    530       698 ▇▇▇▇▆▇▆▆
##   461    663       990 ▆▅▆▇▇▇▅▂
##     2      2         2 ▁▁▁▂▁▁▁▇
##     0      0         1 ▇▁▁▁▁▁▁▁
##     0      0         1 ▇▁▁▁▁▁▁▁
##     3      3         5 ▃▆▁▇▁▅▁▂
##     3      4         5 ▂▅▁▇▁▅▁▂
##  5859   8788     11717 ▇▇▇▇▇▇▇▇
##     4      6         6 ▇▁▁▃▃▁▃▆
##     2      2         2 ▃▁▁▅▁▁▁▇
##    99.5  251.25  5e+05 ▇▁▁▁▁▁▁▁
##   149    397.75  8e+05 ▇▁▁▁▁▁▁▁
##     0      0    171441 ▇▁▁▁▁▁▁▁
##     0      0         1 ▇▁▁▁▁▁▁▁
##     0      0         1 ▇▁▁▁▁▁▁▁
##     0      0         1 ▇▁▁▁▁▁▁▁
##     1      1         1 ▃▁▁▁▁▁▁▇
##     1      2         2 ▆▁▁▅▁▁▁▇
##     0      0         1 ▇▁▁▁▁▁▁▂
##     2      3         5 ▇▇▁▇▁▃▁▂
##     1      1         2 ▇▁▁▇▁▁▁▃
##  5860   8789     11718 ▇▇▇▇▇▇▇▇
##  1987   2002      2017 ▅▆▆▆▇▇▇▇
## 
## ── Variable type:numeric ───────────────────────────────────────────────────────────────────────
##    variable missing complete     n  mean   sd    p0   p25    p50  p75 p100
##  theta_mean       0    11717 11717 0.053 1.52 -3.77 -0.99 -0.071 0.96 5.14
##    theta_sd       0    11717 11717 0.36  0.19  0.18  0.23  0.27  0.47 1.31
##      hist
##  ▁▃▆▇▅▂▁▁
##  ▇▂▂▁▁▁▁▁</code></pre>
<pre class="r"><code># HR.Data$year &lt;- as.Date(HR.Data$YEAR, format = &quot;%Y&quot;)</code></pre>
</div>
<div id="what-do-we-have" class="section level2">
<h2>What do we have?</h2>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/pressure-1.png" width="672" /></p>
<pre class="r"><code>library(gganimate)
p1 &lt;- p1 + transition_reveal(YEAR) # this is kind of a hack, the year isn&#39;t right
animate(p1, nframes = 200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-1-1.gif" /><!-- --></p>
<pre class="r"><code>COW.Codes &lt;- read.csv(&quot;~/Downloads/COW country codes.csv&quot;, stringsAsFactors = FALSE)
COW.Codes &lt;- distinct(COW.Codes) # Duplicates exist in the COW Code master file
COW.Codes$Continent &lt;- cut(COW.Codes$CCode, breaks = c(0, 100, 200, 400, 600, 700, 900,1000), labels = c(&quot;N. America&quot;, &quot;S. America&quot;, &quot;Europe&quot;, &quot;Africa&quot;, &quot;Med/Mid&quot;, &quot;Asia&quot;, &quot;Oceania&quot;), right = FALSE)
HR.Data.Named &lt;- left_join(HR.Data, COW.Codes, by = c(&quot;COW&quot; = &quot;CCode&quot;))</code></pre>
<p>Now I have something to work with that is labeled.</p>
<pre class="r"><code>( ggplot(HR.Data.Named) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateAbb) + geom_line(alpha = 0.3)  +  scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot; ) + theme_economist_white() + facet_wrap(vars(Continent)) -&gt; p2 )</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>p2</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
<p>Now let’s look at that.</p>
<pre class="r"><code>p2 &lt;- p2 + transition_reveal(YEAR)
animate(p2, nframes = 200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-4-1.gif" /><!-- --></p>
</div>
<div id="north-america" class="section level2">
<h2>North America</h2>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 100) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateAbb) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;North America&quot;) + theme_economist_white()</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div id="an-animation-for-north-america" class="section level3">
<h3>An Animation for North America</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 100) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_label_repel(x=2010, size=2, direction = &quot;y&quot;, hjust = 1, nudge_x = 20) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;North America&quot;) + theme_economist_white() + transition_reveal(YEAR) -&gt; NA.p
animate(NA.p, nframes=200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-6-1.gif" /><!-- --></p>
</div>
</div>
<div id="south-america" class="section level2">
<h2>South America</h2>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 200 &amp; COW &gt; 100) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;South America&quot;) + theme_economist()</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div id="animation-for-south-america" class="section level3">
<h3>Animation for South America</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 200 &amp; COW &gt;= 100) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_label_repel(x=2010, size=2, direction = &quot;y&quot;, hjust = 1, nudge_x = 20) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;South America&quot;) + theme_economist() + transition_reveal(YEAR) -&gt; SA.p
animate(SA.p, nframes=200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-8-1.gif" /><!-- --></p>
</div>
<div id="europe" class="section level3">
<h3>Europe</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 400 &amp; COW &gt;= 200) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Europe&quot;) + theme_economist()</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="animate-europe" class="section level3">
<h3>Animate Europe</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 400 &amp; COW &gt;= 200) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_label_repel(x=2010, size=2, direction = &quot;y&quot;, hjust = 1, nudge_x = 20) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Europe&quot;) + theme_economist() + transition_reveal(YEAR) -&gt; EU.p
animate(EU.p, nframes=200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-10-1.gif" /><!-- --></p>
</div>
</div>
<div id="africa" class="section level2">
<h2>Africa</h2>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 600 &amp; COW &gt;= 400) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Africa&quot;) + theme_economist()</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div id="animate-africa" class="section level3">
<h3>Animate Africa</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 600 &amp; COW &gt;= 400) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_label_repel(x=2010, size=2, direction = &quot;y&quot;, hjust = 1, nudge_x = 20) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Africa&quot;) + theme_economist() + transition_reveal(YEAR) -&gt; AF.p
animate(EU.p, nframes=200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-12-1.gif" /><!-- --></p>
</div>
</div>
<div id="middle-east-north-africa" class="section level2">
<h2>Middle East / North Africa</h2>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 700 &amp; COW &gt;= 600) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Middle East and North Africa&quot;) + theme_economist()</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div id="animate-mid-east-north-africa" class="section level3">
<h3>Animate Mid East / North Africa</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 700 &amp; COW &gt;= 600) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_label_repel(x=2010, size=2, direction = &quot;y&quot;, hjust = 1, nudge_x = 20) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Middle East and North Africa&quot;) + theme_economist() + transition_reveal(YEAR) -&gt; MENA.p
animate(MENA.p, nframes=200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-14-1.gif" /><!-- --></p>
</div>
</div>
<div id="asia" class="section level2">
<h2>Asia</h2>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 900 &amp; COW &gt;= 700) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Asia&quot;) + theme_economist()</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div id="animate-asia" class="section level3">
<h3>Animate Asia</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &lt; 900 &amp; COW &gt;= 700) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_label_repel(x=2015, size=2, direction = &quot;y&quot;, hjust = 1, nudge_x = 20) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Asia&quot;) + theme_economist() + transition_reveal(YEAR) -&gt; Asia.p
animate(Asia.p, nframes=200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-16-1.gif" /><!-- --></p>
</div>
</div>
<div id="oceania" class="section level2">
<h2>Oceania</h2>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW  &gt;= 900) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Oceania&quot;) + theme_economist()</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div id="animate-oceania" class="section level3">
<h3>Animate Oceania</h3>
<pre class="r"><code>HR.Data.Named %&gt;% filter(COW &gt;= 900) %&gt;% ggplot(.) + aes(x=YEAR, y=theta_mean, color=as.factor(StateAbb), label = StateNme) + geom_label_repel(x=2010, size=2, direction = &quot;y&quot;, hjust = 1, nudge_x = 20) + geom_line(alpha = 0.3) +   scale_color_viridis_d(guide=FALSE) + labs(x=&quot;Year&quot;, y=&quot;Human Rights Dynamic Factor Score&quot;, title = &quot;The Evolution of Human Rights with Normed Scores&quot;, caption = &quot;See Fariss and Schnakenberg (2014)&quot;, subtitle = &quot;Oceania&quot;) + theme_economist() + transition_reveal(YEAR) -&gt; OC.p
animate(OC.p, nframes=200)</code></pre>
<p><img src="/post/2019-10-10-fariss-human-rights-data-with-animation_files/figure-html/unnamed-chunk-18-1.gif" /><!-- --></p>
</div>
</div>
