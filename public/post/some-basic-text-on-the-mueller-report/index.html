<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.59.0" />
  <meta name="author" content="Robert W. Walker">

  
  
  
  
    
      
    
  
  <meta name="description" content="So this Robert Mueller guy wrote a report I may as well analyse it a bit.
First, let me see if I can get a hold of the data. I grabbed the report directly from the Department of Justice website. You can follow this link.
library(tidyverse) library(pdftools) # Download report from link above mueller_report_txt &lt;- pdf_text(&quot;../data/report.pdf&quot;) # Create a tibble of the text with line numbers and pages mueller_report &lt;- tibble( page = 1:length(mueller_report_txt), text = mueller_report_txt) %&gt;% separate_rows(text, sep = &quot;\n&quot;) %&gt;% group_by(page) %&gt;% mutate(line = row_number()) %&gt;% ungroup() %&gt;% select(page, line, text) write_csv(mueller_report, &quot;data/mueller_report.">

  
  <link rel="alternate" hreflang="en-us" href="/post/some-basic-text-on-the-mueller-report/">

  



  
  
  <meta name="theme-color" content="">
  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js//styles/dracula.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/%!s(<nil>)/css/bootstrap.min.css" integrity="%!s(<nil>)" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/%!s(<nil>)/css/academicons.min.css" integrity="%!s(<nil>)" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/%!s(<nil>)/css/font-awesome.min.css" integrity="%!s(<nil>)" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/%!s(<nil>)/jquery.fancybox.min.css" integrity="%!s(<nil>)" crossorigin="anonymous">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/%!s(<nil>)/leaflet.css" integrity="%!s(<nil>)" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="/styles.css">
  

  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Robert W. Walker">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Robert W. Walker">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/some-basic-text-on-the-mueller-report/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@PieRatio">
  <meta property="twitter:creator" content="@PieRatio">
  
  <meta property="og:site_name" content="Robert W. Walker">
  <meta property="og:url" content="/post/some-basic-text-on-the-mueller-report/">
  <meta property="og:title" content="Some Basic Text on the Mueller Report | Robert W. Walker">
  <meta property="og:description" content="So this Robert Mueller guy wrote a report I may as well analyse it a bit.
First, let me see if I can get a hold of the data. I grabbed the report directly from the Department of Justice website. You can follow this link.
library(tidyverse) library(pdftools) # Download report from link above mueller_report_txt &lt;- pdf_text(&quot;../data/report.pdf&quot;) # Create a tibble of the text with line numbers and pages mueller_report &lt;- tibble( page = 1:length(mueller_report_txt), text = mueller_report_txt) %&gt;% separate_rows(text, sep = &quot;\n&quot;) %&gt;% group_by(page) %&gt;% mutate(line = row_number()) %&gt;% ungroup() %&gt;% select(page, line, text) write_csv(mueller_report, &quot;data/mueller_report.">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-05-22T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2019-05-22T00:00:00&#43;00:00">
  

  

  <title>Some Basic Text on the Mueller Report | Robert W. Walker</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" class="dark">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/"><img src="/img/headers/wuagsm.jpg" alt="Robert W. Walker"></a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/img/vita.pdf">
            
            <span>Curriculum Vitae</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        
        
        
        
        

        <li class="nav-item">
          <a href="/r">
            
            <span>R Stuff</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">Some Basic Text on the Mueller Report</h1>

    

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2019-05-22 00:00:00 &#43;0000 UTC" itemprop="datePublished dateModified">
      2019-05-22
    </time>
  </span>
  <span itemscope itemprop="author publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Robert W. Walker">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/tidyverse">tidyverse</a
    >, 
    
    <a href="/categories/tidytext">tidytext</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Some%20Basic%20Text%20on%20the%20Mueller%20Report&amp;url=%2fpost%2fsome-basic-text-on-the-mueller-report%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fsome-basic-text-on-the-mueller-report%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fsome-basic-text-on-the-mueller-report%2f&amp;title=Some%20Basic%20Text%20on%20the%20Mueller%20Report"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fsome-basic-text-on-the-mueller-report%2f&amp;title=Some%20Basic%20Text%20on%20the%20Mueller%20Report"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Some%20Basic%20Text%20on%20the%20Mueller%20Report&amp;body=%2fpost%2fsome-basic-text-on-the-mueller-report%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


    <div class="article-style" itemprop="articleBody">
      
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/pymjs/pym.v1.js"></script>
<script src="/rmarkdown-libs/widgetframe-binding/widgetframe.js"></script>


<div id="so-this-robert-mueller-guy-wrote-a-report" class="section level1">
<h1>So this Robert Mueller guy wrote a report</h1>
<p>I may as well analyse it a bit.</p>
<p>First, let me see if I can get a hold of the data. I grabbed the report directly from the Department of Justice website. You can follow this <a href="https://www.justice.gov/storage/report.pdf">link</a>.</p>
<pre class="r"><code>library(tidyverse)
library(pdftools)
# Download report from link above
mueller_report_txt &lt;- pdf_text(&quot;../data/report.pdf&quot;)
# Create a tibble of the text with line numbers and pages
mueller_report &lt;- tibble(
  page = 1:length(mueller_report_txt),
  text = mueller_report_txt) %&gt;% 
  separate_rows(text, sep = &quot;\n&quot;) %&gt;% 
  group_by(page) %&gt;% 
  mutate(line = row_number()) %&gt;% 
  ungroup() %&gt;% 
  select(page, line, text)
write_csv(mueller_report, &quot;data/mueller_report.csv&quot;)</code></pre>
<p>Now I can use a .csv of the data; reading the .pdf and hacking it up takes time.</p>
<pre class="r"><code>library(tidyverse)
library(pdftools)
library(here)
mueller_report &lt;- read_csv(here(&quot;data&quot;,&quot;mueller_report.csv&quot;))
head(mueller_report)</code></pre>
<pre><code>## # A tibble: 6 x 3
##    page  line text                                                              
##   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;                                                             
## 1     1     1 &quot;U.S. Department of Justice&quot;                                      
## 2     1     2 &quot;AttarAe:,c \\\\&#39;erlc Predtiet // Mtt; CeA1:ttiA Ma1:ertal Prn1:eâ€¦
## 3     1     3 &quot;Report On The Investigation Into&quot;                                
## 4     1     4 &quot;Russian Interference In The&quot;                                     
## 5     1     5 &quot;2016 Presidential Election&quot;                                      
## 6     1     6 &quot;Volume I of II&quot;</code></pre>
<p>The text is generally pretty good though there is some garbage. The second line contains redactions and those are the underlying cause. In fact, every page contains this same line though they convert to text in a non-uniform fashion.</p>
<pre class="r"><code>mueller_report %&gt;% filter(line!=2) -&gt; mueller_ml2</code></pre>
<p>I want to make use of <a href="https://github.com/statsmaths/cleanNLP">cleanNLP</a> to turn this into something that I can analyze. The first step is to get rid of the tidyness, of sorts.</p>
<pre><code>Once upon a time, this worked with the linux tools and others.  The spacy and corenlp functionality is not native R and the python interface is currently broken, at least on this server.</code></pre>
<pre class="r"><code>library(tidyverse)
library(RCurl)
library(tokenizers)
library(cleanNLP)
# cnlp_download_spacy(&quot;en&quot;)
MRep &lt;- paste(as.character(mueller_ml2$text), &quot; &quot;)
# cnlp_init_stringi()
# starttime &lt;- Sys.time()
# stringi_annotate &lt;- MRep %&gt;% as.character() %&gt;% cnlp_annotate(., verbose=FALSE) 
# endtime &lt;- Sys.time()</code></pre>
<p>I wanted to find the bigrams while removing stop words. Apparently, the easiest way to do this is <code>quanteda</code>. I got this from <a href="https://stackoverflow.com/questions/34282370/form-bigrams-without-stopwords-in-r">stack overflow</a></p>
<pre class="r"><code>library(widgetframe)</code></pre>
<pre><code>## Loading required package: htmlwidgets</code></pre>
<pre class="r"><code>library(quanteda)</code></pre>
<pre><code>## Package version: 1.5.2</code></pre>
<pre><code>## Parallel computing: 2 of 16 threads used.</code></pre>
<pre><code>## See https://quanteda.io for tutorials and examples.</code></pre>
<pre><code>## 
## Attaching package: &#39;quanteda&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:utils&#39;:
## 
##     View</code></pre>
<pre class="r"><code>library(wordcloud)</code></pre>
<pre><code>## Loading required package: RColorBrewer</code></pre>
<pre class="r"><code>myDfm &lt;- tokens(MRep) %&gt;%
    tokens_remove(&quot;\\p{P}&quot;, valuetype = &quot;regex&quot;, padding = TRUE) %&gt;%
    tokens_remove(stopwords(&quot;english&quot;), padding  = TRUE) %&gt;%
    tokens_ngrams(n = 2) %&gt;%
    dfm()
wc2 &lt;- topfeatures(myDfm, n=150, scheme=&quot;count&quot;)
wc2.df &lt;- data.frame(word = names(wc2), freq=as.numeric(wc2))
wc2.df$word &lt;- as.character(wc2.df$word)
wc2.df &lt;- wc2.df %&gt;% filter(freq &lt; 300)
# wordcloud(wc2.df, size=0.4)
library(highcharter)</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;quantmod&#39;:
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<pre><code>## Highcharts (www.highcharts.com) is a Highsoft software product which is</code></pre>
<pre><code>## not free for commercial and Governmental use</code></pre>
<pre class="r"><code>frameWidget(hchart(wc2.df, &quot;wordcloud&quot;, hcaes(name=word, weight=freq/30)))</code></pre>
<pre><code>## Warning: `parse_quosure()` is deprecated as of rlang 0.2.0.
## Please use `parse_quo()` instead.
## This warning is displayed once per session.</code></pre>
<div id="htmlwidget-1" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"url":"/post/2019-05-22-some-basic-text-on-the-mueller-report_files/figure-html//widgets/widget_wc1.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<div id="pdfpages-a-little-plot" class="section level2">
<h2>pdfpages: A little plot</h2>
<p>I found some instructions on constructing the entire document on a grid and pulled the report apart to visualise it in that way.</p>
<div class="figure">
<img src="https://rww.science/img/RSMReport.png" alt="A Graphic" />
<p class="caption">A Graphic</p>
</div>
</div>
</div>

    </div>

    


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/tidytext">tidytext</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/r">R</a>
  
</div>




    
    
    <div class="article-widget">
      <div class="hr-light"></div>
      <h3>Related</h3>
      <ul>
        
        <li><a href="/post/trump-s-tweets-part-ii/">Trump&#39;s Tweets, Part II</a></li>
        
        <li><a href="/post/scraping-epl-salary-data/">Scraping EPL Salary Data</a></li>
        
        <li><a href="/post/tidytext-is-neat/">tidytext is neat! White House Communications</a></li>
        
        <li><a href="/post/nflscrapr-is-amazing/">nflscrapR is amazing</a></li>
        
        <li><a href="/r/nflscrapr-test/">NFL ScrapR</a></li>
        
      </ul>
    </div>
    

    

    


  </div>
</article>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/%!s(<nil>)/jquery.min.js" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/%!s(<nil>)/imagesloaded.pkgd.min.js" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/%!s(<nil>)/js/bootstrap.min.js" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/%!s(<nil>)/isotope.pkgd.min.js" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/%!s(<nil>)/jquery.fancybox.min.js" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/%!s(<nil>)/leaflet.js" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/%!s(<nil>)/highlight.min.js" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/%!s(<nil>)/MathJax.js?config=TeX-AMS_CHTML" integrity="%!s(<nil>)" crossorigin="anonymous"></script>
    
    

  </body>
</html>

